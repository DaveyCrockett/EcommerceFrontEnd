{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\augus\\\\Documents\\\\Programming\\\\Practice\\\\C#\\\\EcommerceFront\\\\ecommerce\\\\src\\\\App.js\";\nimport './App.css';\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport ProductList from './Components/ProductsList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: 'https://localhost:44394/api/products/product'\n});\nconst api2 = axios.create({\n  baseURL: 'https://localhost:44394/api/user/user'\n});\nconst api3 = axios.create({\n  baseURL: 'https://localhost:44394/api/authentication/login'\n});\nconst api4 = axios.create({\n  baseURL: 'https://localhost:44394/api/reviews/'\n});\nconst token = localStorage.getItem('data');\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.getProducts = async () => {\n      let data = await api.get('/').then(({\n        data\n      }) => data);\n      this.setState({\n        Products: data\n      });\n    };\n\n    this.getUser = async token => {\n      let data = await api2.get('/', {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      }).then(({\n        data\n      }) => data);\n      this.setState({\n        CurrentUser: data\n      });\n    };\n\n    this.SignInUser = async event => {\n      event.preventDefault();\n      let res = await api3.post('/', {\n        username: event.target.username.value,\n        password: event.target.password.value\n      });\n      localStorage.setItem('data', res.data.token);\n      this.getUser(token);\n      window.location.reload();\n    };\n\n    this.getReviews = async p => {\n      let data = await api4.get(`${p}`).then(({\n        data\n      }) => data);\n      this.setState({\n        Reviews: data\n      });\n    };\n\n    this.handleProductSelect = product => {\n      this.setState({\n        CurrentProduct: product\n      });\n      let p = product.id;\n      this.getReviews(p);\n      this.setState({\n        SeeReviews: 'on'\n      });\n    };\n\n    this.state = {\n      Products: [],\n      CurrentUser: [],\n      CurrentProduct: [],\n      Reviews: [],\n      SeeReviews: 'off'\n    };\n  }\n\n  componentDidMount() {\n    this.getProducts();\n    this.getUser(token);\n  }\n\n  render() {\n    if (this.state.CurrentUser.length === 0) return (\n      /*#__PURE__*/\n      //<form className='StackForm' onSubmit = {(event) => this.SignInUser(event)}>\n      //<h3>Sign in:</h3>\n      //<label htmlfor=\"username\">Username: </label>\n      //<input type = \"text\" id=\"username\" name=\"username\"/><br/>\n      //<label htmlfor=\"password\">Password: </label>\n      //<input type = \"text\" id=\"password\" name=\"password\"/><br/>\n      // <button type=\"submit\">Submit</button>\n      // </form>\n      _jsxDEV(\"div\", {\n        className: \"login-container text-c animated flipInX\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"logo-badge text-whitesmoke\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"fa fa-user-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 60\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-whitesmoke\",\n          children: \"Sign In Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-whitesmoke\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-content\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"margin-t\",\n            onSubmit: event => this.SignInUser(event),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                class: \"form-control\",\n                name: \"username\",\n                placeholder: \"Username\",\n                required: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                class: \"form-control\",\n                name: \"password\",\n                placeholder: \"*****\",\n                required: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"form-button button-l margin-b\",\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this)\n    );\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Hello World!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Product List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n        products: this.state.Products,\n        CurrentProduct: this.state.CurrentProduct,\n        handleProductSelect: this.handleProductSelect,\n        reviews: this.state.Reviews,\n        handlereview: this.handleReviewSelect,\n        seeReviews: this.state.seeReviews\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/augus/Documents/Programming/Practice/C#/EcommerceFront/ecommerce/src/App.js"],"names":["axios","React","Component","ProductList","api","create","baseURL","api2","api3","api4","token","localStorage","getItem","App","constructor","getProducts","data","get","then","setState","Products","getUser","headers","CurrentUser","SignInUser","event","preventDefault","res","post","username","target","value","password","setItem","window","location","reload","getReviews","p","Reviews","handleProductSelect","product","CurrentProduct","id","SeeReviews","state","componentDidMount","render","length","handleReviewSelect","seeReviews"],"mappings":"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","sourcesContent":["import './App.css';\r\nimport axios from 'axios'\r\nimport React, { Component } from 'react';\r\nimport ProductList from './Components/ProductsList';\r\n\r\nconst api = axios.create({\r\n  baseURL:'https://localhost:44394/api/products/product'\r\n})\r\nconst api2 = axios.create({\r\n  baseURL:'https://localhost:44394/api/user/user'\r\n})\r\nconst api3 = axios.create({\r\n  baseURL: 'https://localhost:44394/api/authentication/login'\r\n})\r\nconst api4 = axios.create({\r\n  baseURL: 'https://localhost:44394/api/reviews/'\r\n})\r\nconst token = localStorage.getItem('data')\r\n\r\nclass App extends Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      Products: [],\r\n      CurrentUser: [],\r\n      CurrentProduct:[],\r\n      Reviews: [],\r\n      SeeReviews: 'off'\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    this.getProducts()\r\n    this.getUser(token)\r\n  }\r\n  getProducts = async () => {\r\n    let data = await api.get('/').then(({ data }) => data)\r\n    this.setState({ Products : data })\r\n  }\r\n  getUser = async (token) => {\r\n    let data = await api2.get('/', {headers:{\"Authorization\" : `Bearer ${token}`}}).then(({ data }) => data)\r\n    this.setState({ CurrentUser : data })\r\n  }\r\n  SignInUser = async (event) => {\r\n    event.preventDefault()\r\n    let res = await api3.post('/',{username:event.target.username.value,\r\n    password:event.target.password.value,})\r\n    localStorage.setItem('data', res.data.token)\r\n    this.getUser(token)\r\n    window.location.reload()\r\n  }\r\n  getReviews = async (p) => {\r\n    let data = await api4.get(`${p}`).then(({ data }) => data)\r\n    this.setState({Reviews : data})\r\n  } \r\n  handleProductSelect = (product) => {\r\n    this.setState({CurrentProduct : product})\r\n    let p = product.id\r\n    this.getReviews(p)\r\n    this.setState({SeeReviews: 'on'})\r\n  }\r\nrender() {\r\n  if (this.state.CurrentUser.length === 0)\r\n    return(\r\n      //<form className='StackForm' onSubmit = {(event) => this.SignInUser(event)}>\r\n      //<h3>Sign in:</h3>\r\n    //<label htmlfor=\"username\">Username: </label>\r\n    //<input type = \"text\" id=\"username\" name=\"username\"/><br/>\r\n    //<label htmlfor=\"password\">Password: </label>\r\n    //<input type = \"text\" id=\"password\" name=\"password\"/><br/>\r\n     // <button type=\"submit\">Submit</button>\r\n   // </form>\r\n      <div className=\"login-container text-c animated flipInX\">\r\n            <div>\r\n                <h1 className=\"logo-badge text-whitesmoke\"><span className=\"fa fa-user-circle\"></span></h1>\r\n            </div>\r\n                <h3 className=\"text-whitesmoke\">Sign In Template</h3>\r\n                <p className=\"text-whitesmoke\">Sign In</p>\r\n            <div className=\"container-content\">\r\n                <form className=\"margin-t\" onSubmit={(event) => this.SignInUser(event)}>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" class=\"form-control\"  name=\"username\" placeholder=\"Username\" required=\"\"/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"*****\" required=\"\"/>\r\n                    </div>\r\n                    <button type=\"submit\" class=\"form-button button-l margin-b\">Sign In</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <h1>Hello World!</h1>\r\n        </header>\r\n        <h2>Product List</h2>\r\n        <ProductList products={this.state.Products} CurrentProduct={this.state.CurrentProduct} handleProductSelect ={this.handleProductSelect} reviews = {this.state.Reviews}handlereview = {this.handleReviewSelect} seeReviews={this.state.seeReviews}/>\r\n      </div>\r\n    );\r\n  \r\n  \r\n}\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}