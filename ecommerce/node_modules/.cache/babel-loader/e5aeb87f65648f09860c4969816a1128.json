{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\augus\\\\Documents\\\\Programming\\\\Practice\\\\C#\\\\EcommerceFront\\\\ecommerce\\\\src\\\\Components\\\\Review.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Reviews extends Component {\n  constructor(props) {\n    super(props);\n\n    this.reviewsGetData = async () => {\n      this.state.reviews.map(review => this.renderGetData(review.ProductId));\n    };\n\n    this.renderGetData = async id => {\n      //needs to be at higher level.\n      try {\n        let response = await axios.get(`https://localhost:44394/api/reviews/${id}`);\n        this.setState({\n          reviewsProduct: [response.data]\n        });\n        console.log(this.state.reviewsProduct);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      reviews: [],\n      reviewsProduct: []\n    };\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async PostReviewData() {\n    const currentReview = {\n      reviews: this.state.reviews\n    };\n    await axios.post(`https://localhost:44394/api/reviews`, {\n      currentReview\n    }).then(response => this.setState({\n      reviews: [...this.state.reviews, response.data]\n    }).catch(error => {\n      console.log(error);\n    }));\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.PostReviewData.bind(this);\n    this.props.reviews();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit.bind(this),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"reviews\",\n          onChange: this.handleChange.bind(this),\n          placeholder: \"Enter Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.state.reviewsId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Reviews;","map":{"version":3,"sources":["C:/Users/augus/Documents/Programming/Practice/C#/EcommerceFront/ecommerce/src/Components/Review.jsx"],"names":["React","Component","axios","Reviews","constructor","props","reviewsGetData","state","reviews","map","review","renderGetData","ProductId","id","response","get","setState","reviewsProduct","data","console","log","err","handleChange","event","target","name","value","PostReviewData","currentReview","post","then","catch","error","handleSubmit","preventDefault","bind","render","reviewsId"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAKA,MAAMC,OAAN,SAAsBF,SAAtB,CAAgC;AAC5BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA2BnBC,cA3BmB,GA2BF,YAAY;AACzB,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,GAAnB,CAAuBC,MAAM,IAAI,KAAKC,aAAL,CAAmBD,MAAM,CAACE,SAA1B,CAAjC;AACD,KA7BgB;;AAAA,SA+BjBD,aA/BiB,GA+BD,MAAME,EAAN,IAAa;AAAC;AAC5B,UAAI;AACA,YAAIC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAW,uCAAsCF,EAAG,EAApD,CAArB;AACA,aAAKG,QAAL,CAAc;AAACC,UAAAA,cAAc,EAAE,CAACH,QAAQ,CAACI,IAAV;AAAjB,SAAd;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWU,cAAvB;AACH,OAJD,CAIE,OAAOI,GAAP,EAAY;AACVF,QAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACH;AACJ,KAvCkB;;AAEf,SAAKd,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,EADA;AAETS,MAAAA,cAAc,EAAE;AAFP,KAAb;AAIF;;AAEFK,EAAAA,YAAY,CAACC,KAAD,EAAQ;AAChB,SAAKP,QAAL,CAAc;AACV,OAACO,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AADxB,KAAd;AAGH;;AAGmB,QAAdC,cAAc,GAAG;AACnB,UAAMC,aAAa,GAAG;AAACpB,MAAAA,OAAO,EAAE,KAAKD,KAAL,CAAWC;AAArB,KAAtB;AACA,UAAMN,KAAK,CAAC2B,IAAN,CAAY,qCAAZ,EAAkD;AAAED,MAAAA;AAAF,KAAlD,EACLE,IADK,CACAhB,QAAQ,IAAI,KAAKE,QAAL,CAAc;AAC5BR,MAAAA,OAAO,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,OAAf,EAAwBM,QAAQ,CAACI,IAAjC;AADmB,KAAd,EAGjBa,KAHiB,CAGVC,KAAD,IAAW;AACdb,MAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ;AACH,KALiB,CADZ,CAAN;AAQH;;AAgBDC,EAAAA,YAAY,CAACV,KAAD,EAAQ;AAChBA,IAAAA,KAAK,CAACW,cAAN;AACA,SAAKP,cAAL,CAAoBQ,IAApB,CAAyB,IAAzB;AACA,SAAK9B,KAAL,CAAWG,OAAX;AAEH;;AAED4B,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAM,QAAA,QAAQ,EAAE,KAAKH,YAAL,CAAkBE,IAAlB,CAAuB,IAAvB,CAAhB;AAAA,gCACI;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,SAAxB;AAAkC,UAAA,QAAQ,EAAE,KAAKb,YAAL,CAAkBa,IAAlB,CAAuB,IAAvB,CAA5C;AAA0E,UAAA,WAAW,EAAC;AAAtF;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAMI;AAAA,kBAAI,KAAK5B,KAAL,CAAW8B;AAAf;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAUH;;AA5D2B;;AA+DhC,eAAelC,OAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\n    \r\n\r\nclass Reviews extends Component {\r\n    constructor(props) {\r\n        super(props); \r\n        this.state = {\r\n            reviews: [],\r\n            reviewsProduct: [],\r\n        }\r\n     }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    \r\n    async PostReviewData() {\r\n        const currentReview = {reviews: this.state.reviews};\r\n        await axios.post(`https://localhost:44394/api/reviews`, { currentReview })\r\n        .then(response => this.setState({\r\n            reviews: [...this.state.reviews, response.data]\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        }))\r\n        \r\n    }\r\n\r\n    reviewsGetData = async () => {\r\n        this.state.reviews.map(review => this.renderGetData(review.ProductId))\r\n      }\r\n    \r\n      renderGetData = async(id) => {//needs to be at higher level.\r\n        try {\r\n            let response = await axios.get(`https://localhost:44394/api/reviews/${id}`)\r\n            this.setState({reviewsProduct: [response.data]});\r\n            console.log(this.state.reviewsProduct)\r\n        } catch (err) {\r\n            console.log(err);\r\n        } \r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault()\r\n        this.PostReviewData.bind(this)\r\n        this.props.reviews()\r\n\r\n    }\r\n        \r\n    render() { \r\n        return ( \r\n            <div>\r\n                <h1>Reviews</h1>\r\n                <form onSubmit={this.handleSubmit.bind(this)}>\r\n                    <input type='text' name='reviews' onChange={this.handleChange.bind(this)} placeholder='Enter Review' />\r\n                    <input type='submit' value='Submit reviews' />\r\n                </form>\r\n                <p>{this.state.reviewsId}</p>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Reviews;"]},"metadata":{},"sourceType":"module"}